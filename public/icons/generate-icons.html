<!DOCTYPE html>
<html>
<head>
  <title>Generate PWA Icons</title>
  <style>
    body { font-family: system-ui; padding: 40px; background: #1a1a2e; color: white; }
    .icon-row { display: flex; gap: 20px; margin: 20px 0; align-items: center; }
    canvas { border: 1px solid #444; border-radius: 8px; }
    button { padding: 10px 20px; background: #1e40af; color: white; border: none; border-radius: 8px; cursor: pointer; }
    button:hover { background: #1d4ed8; }
    h2 { margin-top: 40px; }
    .instructions { background: #2a2a4e; padding: 20px; border-radius: 8px; margin: 20px 0; }
  </style>
</head>
<body>
  <h1>PWA Icon Generator</h1>

  <div class="instructions">
    <p><strong>Instructions:</strong></p>
    <ol>
      <li>Click each "Download" button below</li>
      <li>Save the files to <code>public/icons/</code></li>
      <li>Keep the exact filenames shown</li>
    </ol>
  </div>

  <h2>Regular Icons (for browsers/favicon)</h2>
  <div class="icon-row">
    <canvas id="icon-192" width="192" height="192"></canvas>
    <div>
      <p>icon-192x192.png</p>
      <button onclick="download('icon-192', 'icon-192x192.png')">Download</button>
    </div>
  </div>
  <div class="icon-row">
    <canvas id="icon-512" width="512" height="512"></canvas>
    <div>
      <p>icon-512x512.png</p>
      <button onclick="download('icon-512', 'icon-512x512.png')">Download</button>
    </div>
  </div>

  <h2>Maskable Icons (for Android home screen)</h2>
  <div class="icon-row">
    <canvas id="maskable-192" width="192" height="192"></canvas>
    <div>
      <p>icon-maskable-192.png</p>
      <button onclick="download('maskable-192', 'icon-maskable-192.png')">Download</button>
    </div>
  </div>
  <div class="icon-row">
    <canvas id="maskable-512" width="512" height="512"></canvas>
    <div>
      <p>icon-maskable-512.png</p>
      <button onclick="download('maskable-512', 'icon-maskable-512.png')">Download</button>
    </div>
  </div>

  <h2>Favicon</h2>
  <div class="icon-row">
    <canvas id="favicon" width="32" height="32"></canvas>
    <div>
      <p>favicon.ico (save as PNG, rename to .ico)</p>
      <button onclick="download('favicon', 'favicon.png')">Download</button>
    </div>
  </div>

  <h2>Shortcut Icons (for Android long-press menu)</h2>
  <div class="icon-row">
    <canvas id="shortcut-collection" width="96" height="96"></canvas>
    <div>
      <p>shortcut-collection.png (BookOpen icon)</p>
      <button onclick="download('shortcut-collection', 'shortcut-collection.png')">Download</button>
    </div>
  </div>
  <div class="icon-row">
    <canvas id="shortcut-lookup" width="96" height="96"></canvas>
    <div>
      <p>shortcut-lookup.png (Search icon)</p>
      <button onclick="download('shortcut-lookup', 'shortcut-lookup.png')">Download</button>
    </div>
  </div>

  <script>
    // Draw regular icon (chest fills most of the space)
    function drawRegularIcon(ctx, size) {
      const scale = size / 192;
      ctx.save();
      ctx.scale(scale, scale);

      // Background circle
      ctx.beginPath();
      ctx.arc(96, 96, 88, 0, Math.PI * 2);
      ctx.fillStyle = '#1e40af';
      ctx.fill();

      // Chest body
      ctx.fillStyle = '#8B4513';
      ctx.strokeStyle = '#3D1F0D';
      ctx.lineWidth = 3;
      roundRect(ctx, 36, 95, 120, 65, 8);

      // Chest lid
      ctx.fillStyle = '#A0522D';
      ctx.beginPath();
      ctx.moveTo(36, 95);
      ctx.quadraticCurveTo(36, 60, 96, 55);
      ctx.quadraticCurveTo(156, 60, 156, 95);
      ctx.lineTo(36, 95);
      ctx.fill();
      ctx.stroke();

      // Metal bands
      ctx.fillStyle = '#DAA520';
      ctx.fillRect(36, 92, 120, 8);
      ctx.fillRect(36, 130, 120, 6);

      // Lock plate
      ctx.fillStyle = '#FFD700';
      roundRect(ctx, 80, 98, 32, 28, 4);

      // Keyhole
      ctx.fillStyle = '#3D1F0D';
      ctx.beginPath();
      ctx.arc(96, 108, 5, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillRect(93, 108, 6, 12);

      // Corner accents
      ctx.fillStyle = '#DAA520';
      [[44, 100], [148, 100], [44, 152], [148, 152]].forEach(([x, y]) => {
        ctx.beginPath();
        ctx.arc(x, y, 6, 0, Math.PI * 2);
        ctx.fill();
      });

      // Sparkles
      ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
      drawStar(ctx, 50, 47, 5, 7, 3);
      drawStar(ctx, 140, 45, 4, 5, 2);
      drawStar(ctx, 130, 58, 3, 4, 2);

      ctx.restore();
    }

    // Draw maskable icon (chest smaller, in safe zone)
    function drawMaskableIcon(ctx, size) {
      // Fill entire background
      ctx.fillStyle = '#1e40af';
      ctx.fillRect(0, 0, size, size);

      // Scale chest to 65% and center it
      const scale = (size / 192) * 0.65;
      const offset = size * 0.175;

      ctx.save();
      ctx.translate(offset, offset);
      ctx.scale(scale, scale);

      // Background circle (blends with background)
      ctx.beginPath();
      ctx.arc(96, 96, 88, 0, Math.PI * 2);
      ctx.fillStyle = '#1e40af';
      ctx.fill();

      // Chest body
      ctx.fillStyle = '#8B4513';
      ctx.strokeStyle = '#3D1F0D';
      ctx.lineWidth = 3;
      roundRect(ctx, 36, 95, 120, 65, 8);

      // Chest lid
      ctx.fillStyle = '#A0522D';
      ctx.beginPath();
      ctx.moveTo(36, 95);
      ctx.quadraticCurveTo(36, 60, 96, 55);
      ctx.quadraticCurveTo(156, 60, 156, 95);
      ctx.lineTo(36, 95);
      ctx.fill();
      ctx.stroke();

      // Metal bands
      ctx.fillStyle = '#DAA520';
      ctx.fillRect(36, 92, 120, 8);
      ctx.fillRect(36, 130, 120, 6);

      // Lock plate
      ctx.fillStyle = '#FFD700';
      roundRect(ctx, 80, 98, 32, 28, 4);

      // Keyhole
      ctx.fillStyle = '#3D1F0D';
      ctx.beginPath();
      ctx.arc(96, 108, 5, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillRect(93, 108, 6, 12);

      // Corner accents
      ctx.fillStyle = '#DAA520';
      [[44, 100], [148, 100], [44, 152], [148, 152]].forEach(([x, y]) => {
        ctx.beginPath();
        ctx.arc(x, y, 6, 0, Math.PI * 2);
        ctx.fill();
      });

      ctx.restore();
    }

    function roundRect(ctx, x, y, w, h, r) {
      ctx.beginPath();
      ctx.moveTo(x + r, y);
      ctx.lineTo(x + w - r, y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + r);
      ctx.lineTo(x + w, y + h - r);
      ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
      ctx.lineTo(x + r, y + h);
      ctx.quadraticCurveTo(x, y + h, x, y + h - r);
      ctx.lineTo(x, y + r);
      ctx.quadraticCurveTo(x, y, x + r, y);
      ctx.closePath();
      ctx.fill();
      ctx.stroke();
    }

    function drawStar(ctx, cx, cy, spikes, outerR, innerR) {
      let rot = Math.PI / 2 * 3;
      let step = Math.PI / spikes;
      ctx.beginPath();
      ctx.moveTo(cx, cy - outerR);
      for (let i = 0; i < spikes; i++) {
        ctx.lineTo(cx + Math.cos(rot) * outerR, cy + Math.sin(rot) * outerR);
        rot += step;
        ctx.lineTo(cx + Math.cos(rot) * innerR, cy + Math.sin(rot) * innerR);
        rot += step;
      }
      ctx.lineTo(cx, cy - outerR);
      ctx.closePath();
      ctx.fill();
    }

    // Draw shortcut icon with BookOpen (collection)
    function drawCollectionShortcut(ctx, size) {
      // Blue circular background
      ctx.beginPath();
      ctx.arc(size/2, size/2, size/2 - 2, 0, Math.PI * 2);
      ctx.fillStyle = '#1e40af';
      ctx.fill();

      // Draw open book icon (like lucide BookOpen)
      ctx.strokeStyle = 'white';
      ctx.fillStyle = 'none';
      ctx.lineWidth = size * 0.04;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';

      const cx = size / 2;
      const cy = size / 2;
      const s = size * 0.28; // scale factor

      // Left page
      ctx.beginPath();
      ctx.moveTo(cx, cy - s * 0.6);
      ctx.lineTo(cx, cy + s * 0.8);
      ctx.quadraticCurveTo(cx - s * 0.8, cy + s * 0.6, cx - s * 1.2, cy + s * 0.3);
      ctx.lineTo(cx - s * 1.2, cy - s * 0.5);
      ctx.quadraticCurveTo(cx - s * 0.8, cy - s * 0.8, cx, cy - s * 0.6);
      ctx.stroke();

      // Right page
      ctx.beginPath();
      ctx.moveTo(cx, cy - s * 0.6);
      ctx.lineTo(cx, cy + s * 0.8);
      ctx.quadraticCurveTo(cx + s * 0.8, cy + s * 0.6, cx + s * 1.2, cy + s * 0.3);
      ctx.lineTo(cx + s * 1.2, cy - s * 0.5);
      ctx.quadraticCurveTo(cx + s * 0.8, cy - s * 0.8, cx, cy - s * 0.6);
      ctx.stroke();
    }

    // Draw shortcut icon with Search/magnifying glass (lookup)
    function drawLookupShortcut(ctx, size) {
      // Blue circular background
      ctx.beginPath();
      ctx.arc(size/2, size/2, size/2 - 2, 0, Math.PI * 2);
      ctx.fillStyle = '#1e40af';
      ctx.fill();

      // Draw magnifying glass icon
      ctx.strokeStyle = 'white';
      ctx.lineWidth = size * 0.05;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';

      const cx = size / 2 - size * 0.05;
      const cy = size / 2 - size * 0.05;
      const r = size * 0.22;

      // Circle (lens)
      ctx.beginPath();
      ctx.arc(cx, cy, r, 0, Math.PI * 2);
      ctx.stroke();

      // Handle
      ctx.beginPath();
      ctx.moveTo(cx + r * 0.7, cy + r * 0.7);
      ctx.lineTo(cx + r * 1.5, cy + r * 1.5);
      ctx.stroke();
    }

    function download(canvasId, filename) {
      const canvas = document.getElementById(canvasId);
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // Generate all icons on load
    window.onload = function() {
      // Regular icons
      drawRegularIcon(document.getElementById('icon-192').getContext('2d'), 192);
      drawRegularIcon(document.getElementById('icon-512').getContext('2d'), 512);
      drawRegularIcon(document.getElementById('favicon').getContext('2d'), 32);

      // Maskable icons
      drawMaskableIcon(document.getElementById('maskable-192').getContext('2d'), 192);
      drawMaskableIcon(document.getElementById('maskable-512').getContext('2d'), 512);

      // Shortcut icons
      drawCollectionShortcut(document.getElementById('shortcut-collection').getContext('2d'), 96);
      drawLookupShortcut(document.getElementById('shortcut-lookup').getContext('2d'), 96);
    };
  </script>
</body>
</html>
